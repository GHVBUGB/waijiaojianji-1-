# 🔥 火山引擎API获取详细指南

本指南将详细介绍如何从零开始获取火山引擎API的完整流程，包括账户注册、服务开通、API密钥获取等每一个步骤。

## 📋 目录

- [第一步：账户注册](#第一步账户注册)
- [第二步：实名认证](#第二步实名认证)
- [第三步：获取访问密钥](#第三步获取访问密钥)
- [第四步：开通语音识别服务](#第四步开通语音识别服务)
- [第五步：开通视频处理服务](#第五步开通视频处理服务)
- [第六步：账户充值](#第六步账户充值)
- [第七步：获取应用ID](#第七步获取应用id)
- [第八步：配置项目](#第八步配置项目)
- [常见问题解答](#常见问题解答)

---

## 🚀 第一步：账户注册

### 1.1 访问火山引擎官网

1. **打开浏览器**，访问火山引擎官网：
   ```
   https://www.volcengine.com/
   ```

2. **点击右上角「注册」按钮**

### 1.2 选择注册方式

火山引擎支持多种注册方式：

#### 方式一：手机号注册（推荐）
1. 选择「手机号注册」
2. 输入手机号码（支持+86中国大陆）
3. 点击「获取验证码」
4. 输入收到的短信验证码
5. 设置登录密码（8-20位，包含字母和数字）
6. 勾选「我已阅读并同意用户协议和隐私政策」
7. 点击「注册」

#### 方式二：邮箱注册
1. 选择「邮箱注册」
2. 输入邮箱地址
3. 点击「获取验证码」
4. 查看邮箱，输入验证码
5. 设置登录密码
6. 完成注册

#### 方式三：第三方账号注册
- 支持微信、QQ、GitHub等第三方账号快速注册

### 1.3 完善基本信息

注册成功后，系统会要求完善基本信息：

1. **用户类型选择**：
   - 🏢 **企业用户**（推荐）- 享受企业级服务和支持
   - 👤 **个人用户** - 适合个人学习和小型项目

2. **行业信息**：
   - 选择您所在的行业（如：教育、互联网、媒体等）

3. **使用场景**：
   - 选择主要使用场景（如：语音识别、视频处理等）

---

## 🆔 第二步：实名认证

### 2.1 为什么需要实名认证？

- 🔒 **安全保障**：确保账户安全
- 💰 **开通付费服务**：使用AI服务需要实名认证
- 🎯 **提高配额**：认证后享受更高的服务配额

### 2.2 个人实名认证

1. **进入控制台**：
   - 登录后点击右上角「控制台」
   - 或直接访问：`https://console.volcengine.com/`

2. **开始认证**：
   - 在控制台首页，会看到「实名认证」提示
   - 点击「去认证」按钮

3. **选择认证类型**：
   - 选择「个人认证」

4. **填写认证信息**：
   ```
   真实姓名：[您的真实姓名]
   身份证号：[18位身份证号码]
   ```

5. **上传身份证照片**：
   - 身份证正面照片（清晰、完整）
   - 身份证反面照片（清晰、完整）

6. **人脸识别验证**：
   - 使用手机扫描二维码
   - 完成人脸识别验证

### 2.3 企业实名认证

1. **选择企业认证**

2. **填写企业信息**：
   ```
   企业名称：[营业执照上的企业名称]
   统一社会信用代码：[18位代码]
   企业地址：[注册地址]
   法定代表人：[法人姓名]
   ```

3. **上传企业资质**：
   - 营业执照照片（清晰、完整、在有效期内）
   - 法人身份证正反面照片

4. **等待审核**：
   - 企业认证通常需要1-3个工作日
   - 审核结果会通过短信和邮件通知

---

## 🔑 第三步：获取访问密钥

### 3.1 进入访问控制页面

1. **登录控制台**：
   ```
   https://console.volcengine.com/
   ```

2. **找到访问控制**：
   - 在左侧导航栏中找到「访问控制」
   - 或者在搜索框中搜索「访问密钥」

3. **点击「访问密钥」**

### 3.2 创建访问密钥

⚠️ **重要说明**：火山引擎的权限管理分为两种方式：

#### 方式一：主账号直接创建（推荐新手）

如果您使用的是主账号（注册账号），可以直接创建访问密钥：

1. **点击「新建访问密钥」按钮**
2. **系统会直接生成访问密钥**（主账号拥有所有权限）
3. **无需单独设置权限**

#### 方式二：子用户权限管理（推荐企业）

如果需要精细化权限控制，需要通过IAM创建子用户：

1. **进入访问控制 → 用户管理**
2. **创建子用户**：
   ```
   用户名：video-processor-user
   访问方式：✅ 编程访问（API调用）
   ```
3. **设置用户权限**（下面详细说明）
4. **为子用户创建访问密钥**

### 3.2.1 子用户权限设置详细步骤

如果您选择创建子用户，需要为其设置具体权限：

1. **创建用户后，点击「添加权限」**

2. **选择权限策略类型**：
   - 🏢 **系统策略**：火山引擎预定义的权限模板
   - 🔧 **自定义策略**：自己定义的精细化权限

3. **添加语音识别权限**：
   搜索并添加以下系统策略：
   ```
   ✅ SpeechFullAccess - 语音技术完整权限
   或者
   ✅ ASRFullAccess - 语音识别完整权限
   ```

4. **添加视频处理权限**：
   搜索并添加以下系统策略：
   ```
   ✅ CVFullAccess - 视觉智能完整权限
   或者选择具体权限：
   ✅ ImageSegmentFullAccess - 图像分割权限
   ✅ VideoEnhanceFullAccess - 视频增强权限
   ```

5. **添加存储权限**（可选但推荐）：
   ```
   ✅ TOSFullAccess - 对象存储完整权限
   或者
   ✅ TOSReadOnlyAccess - 只读权限
   ```

6. **点击「确定」完成权限设置**

### 3.2.2 验证权限是否生效

权限设置完成后，可以通过以下方式验证：

1. **查看用户权限列表**：
   - 在用户详情页面查看已授权的策略

2. **测试API调用**：
   - 使用生成的密钥调用对应的API接口
   - 如果返回权限错误，说明权限配置有问题

### 3.3 保存访问密钥

⚠️ **重要提醒**：创建成功后，系统会显示Access Key和Secret Key，**请立即保存**，因为Secret Key只显示一次！

```bash
# 示例格式（请替换为您的实际密钥）
Access Key: AKIAIOSFODNN7EXAMPLE
Secret Key: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
```

**保存方式**：
1. 复制到安全的地方（如密码管理器）
2. 不要截图或保存到云盘
3. 不要分享给他人

---

## 🎤 第四步：开通语音识别服务

### 4.1 进入语音技术控制台

1. **在控制台首页**，找到「产品服务」
2. **点击「语音技术」**
3. **选择「语音识别」**

### 4.2 开通服务

1. **点击「立即开通」按钮**

2. **选择服务版本**：
   - 📦 **基础版**：免费额度 + 按量付费
   - 💎 **专业版**：更高配额 + 优先支持
   - 🏢 **企业版**：定制化服务

   **推荐选择基础版**，后续可以升级。

3. **确认开通**：
   - 阅读服务协议
   - 点击「确认开通」

### 4.3 开通豆包语音识别服务

根据您的截图，您需要开通的是 **Doubao-流式语音识别** 服务：

1. **点击「立即使用」按钮**
2. **选择计费方式**：
   - 💰 **按量付费**：4.5元/小时（推荐）
   - 📦 **开发包**：100元/开发/月
3. **确认开通**

### 4.4 配置豆包语音识别

开通成功后：

1. **进入豆包语音识别控制台**
2. **获取服务配置信息**：
   ```bash
   服务名称：Doubao 流式语音识别
   服务类型：实时语音识别 + 录音文件识别
   并发限制：10 QPS
   支持格式：WAV, MP3, AAC, FLAC
   ```

3. **记录服务端点信息**（在控制台中查看）：
   ```bash
   服务端点：wss://openspeech.bytedance.com/api/v1/asr
   应用标识：doubao-streaming-asr
   ```

---

## 🎬 第五步：开通视频处理服务

### 5.1 进入视觉智能控制台

1. **在控制台首页**，找到「视觉智能」
2. **点击「视频处理」**

### 5.2 开通相关服务

火山引擎视频处理包含多个子服务，我们需要开通：

#### 5.2.1 人像分割服务
1. **找到「人像分割」服务**
2. **点击「立即开通」**
3. **选择计费方式**：
   - 按量付费（推荐新用户）
   - 资源包（大量使用更优惠）

#### 5.2.2 视频增强服务
1. **找到「视频增强」服务**
2. **点击「立即开通」**
3. **选择需要的功能**：
   - 视频超分辨率
   - 视频去噪
   - 视频稳定

### 5.3 创建视频处理应用

1. **进入视频处理控制台**
2. **点击「创建应用」**
3. **填写应用信息**：
   ```
   应用名称：video-background-remover
   应用描述：视频背景移除应用
   处理类型：人像分割 + 视频增强
   ```
4. **点击「创建」**

### 5.4 获取视频应用ID

创建成功后，您会获得：
```bash
Video App ID: 9876543210  # 示例ID，请使用您的实际ID
```

---

## 💰 第六步：账户充值

### 6.1 为什么需要充值？

- 🎤 **语音识别**：按分钟计费，约 ¥0.003/分钟
- 🎬 **视频处理**：按次计费，约 ¥0.1-1/次（根据分辨率）
- 💾 **存储费用**：文件存储费用

### 6.2 充值步骤

1. **进入费用中心**：
   - 在控制台右上角点击「费用」
   - 或访问：`https://console.volcengine.com/finance/`

2. **点击「充值」**

3. **选择充值金额**：
   ```
   建议充值金额：
   - 测试使用：¥50-100
   - 小规模使用：¥200-500
   - 商业使用：¥1000+
   ```

4. **选择支付方式**：
   - 💳 **银行卡支付**
   - 📱 **微信支付**
   - 🅰️ **支付宝**
   - 🏢 **企业转账**

5. **完成支付**

### 6.3 设置预警

为了避免意外扣费，建议设置余额预警：

1. **在费用中心**，点击「余额预警」
2. **设置预警阈值**：
   ```
   预警金额：¥50（当余额低于此金额时提醒）
   通知方式：短信 + 邮件
   ```

---

## 📱 第七步：获取应用ID

### 7.1 语音识别应用ID

1. **进入语音技术控制台**
2. **点击您创建的应用**
3. **在应用详情页面找到**：
   ```bash
   App ID: 1234567890
   Cluster: volcengine_streaming_common
   ```

### 7.2 视频处理应用ID

1. **进入视觉智能控制台**
2. **点击您创建的视频应用**
3. **在应用详情页面找到**：
   ```bash
   App ID: 9876543210
   Region: cn-north-1
   ```

---

## ⚙️ 第八步：配置项目

### 8.1 汇总您的API信息

现在您应该有以下信息：

```bash
# 访问密钥
VOLCENGINE_ACCESS_KEY=AKIAIOSFODNN7EXAMPLE
VOLCENGINE_SECRET_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY

# 语音识别
VOLCENGINE_ASR_APP_ID=1234567890
VOLCENGINE_ASR_CLUSTER=volcengine_streaming_common

# 视频处理
VOLCENGINE_VIDEO_APP_ID=9876543210
VOLCENGINE_VIDEO_REGION=cn-north-1

# 区域设置
VOLCENGINE_REGION=cn-north-1
```

### 8.2 使用配置工具

运行我们提供的配置工具：

```bash
python setup_volcengine_api.py
```

按照提示输入上述信息即可。

### 8.3 手动配置.env文件

或者手动创建`.env`文件：

```bash
# 复制以下内容到 .env 文件
VOLCENGINE_ACCESS_KEY=您的Access Key
VOLCENGINE_SECRET_KEY=您的Secret Key
VOLCENGINE_REGION=cn-north-1

VOLCENGINE_ASR_APP_ID=您的语音识别App ID
VOLCENGINE_ASR_CLUSTER=volcengine_streaming_common

VOLCENGINE_VIDEO_APP_ID=您的视频处理App ID
VOLCENGINE_VIDEO_REGION=cn-north-1

# 服务选择
SPEECH_SERVICE=volcengine
VIDEO_SERVICE=volcengine

# 其他配置
ENVIRONMENT=development
HOST=0.0.0.0
PORT=8000
LOG_LEVEL=INFO

UPLOAD_DIR=./uploads
OUTPUT_DIR=./outputs
TEMP_DIR=./temp

MAX_VIDEO_SIZE=104857600
MAX_CONCURRENT_JOBS=3
AUDIO_SAMPLE_RATE=16000
VIDEO_OUTPUT_FORMAT=mp4
```

---

## ❓ 常见问题解答

### Q1: 注册时收不到验证码怎么办？

**解决方案**：
1. 检查手机号是否正确
2. 查看短信垃圾箱
3. 等待1-2分钟后重试
4. 尝试语音验证码
5. 联系客服：400-826-2416

### Q2: 实名认证被拒绝怎么办？

**常见原因及解决方案**：
1. **身份证照片不清晰**：重新拍摄高清照片
2. **身份证过期**：使用有效期内的身份证
3. **信息不匹配**：确保填写信息与身份证完全一致
4. **人脸识别失败**：在光线充足的环境下重试

### Q3: 找不到访问密钥页面？

**解决方案**：
1. 确保已完成实名认证
2. 在控制台搜索框输入"访问密钥"
3. 或直接访问：`https://console.volcengine.com/iam/keymanage/`

### Q4: 我创建了密钥但没看到权限设置选项？

**这是正常的！** 火山引擎的权限管理有两种情况：

#### 情况1：主账号创建密钥（最常见）
- **现象**：直接点击「新建访问密钥」就生成了，没有权限设置页面
- **原因**：主账号拥有所有权限，不需要单独设置
- **解决**：您的密钥已经可以正常使用所有服务

#### 情况2：需要精细化权限控制
如果您是企业用户，需要创建子用户并设置权限：

1. **进入访问控制 → 用户管理**
2. **点击「新建用户」**
3. **选择访问方式**：勾选「编程访问」
4. **添加权限策略**：
   ```
   语音识别服务：
   ✅ SpeechFullAccess 或 ASRFullAccess
   
   视频处理服务：
   ✅ CVFullAccess 或具体的：
      - ImageSegmentFullAccess（图像分割）
      - VideoEnhanceFullAccess（视频增强）
   
   存储服务（推荐）：
   ✅ TOSFullAccess 或 TOSReadOnlyAccess
   ```
5. **为子用户创建访问密钥**

### Q5: 如何验证我的密钥权限是否正确？

**验证方法**：
1. **使用我们提供的测试脚本**：
   ```bash
   python test_volcengine_api.py
   ```

2. **手动测试API调用**：
   ```python
   # 简单测试代码
   import requests
   
   # 测试语音识别权限
   headers = {
       "Authorization": f"Bearer {your_access_key}",
       "Content-Type": "application/json"
   }
   
   # 如果返回200，说明权限正常
   # 如果返回403，说明权限不足
   ```

3. **查看控制台权限列表**：
   - 进入访问控制 → 用户管理
   - 点击您的用户名
   - 查看「权限」标签页

### Q6: 如何查看API调用量和费用？

1. **进入费用中心**：`https://console.volcengine.com/finance/`
2. **查看消费明细**：
   - 点击「消费明细」
   - 选择时间范围
   - 按产品筛选

3. **查看用量统计**：
   - 进入对应服务控制台
   - 查看「用量统计」页面

### Q6: API调用失败怎么排查？

**排查步骤**：
1. **检查密钥**：确保Access Key和Secret Key正确
2. **检查权限**：确保密钥有对应服务权限
3. **检查余额**：确保账户余额充足
4. **检查配额**：查看是否超出服务配额
5. **查看日志**：检查应用日志中的详细错误信息

### Q7: 如何联系技术支持？

**联系方式**：
1. **在线客服**：控制台右下角客服图标
2. **技术支持热线**：400-826-2416
3. **工单系统**：控制台 → 工单与服务 → 提交工单
4. **开发者社区**：https://developer.volcengine.com/

### Q8: 费用预估

**语音识别费用**：
```
- 1分钟视频 ≈ ¥0.003
- 10分钟视频 ≈ ¥0.03
- 100分钟视频 ≈ ¥0.3
```

**视频处理费用**：
```
- 720P视频处理 ≈ ¥0.1/次
- 1080P视频处理 ≈ ¥0.3/次
- 4K视频处理 ≈ ¥1.0/次
```

**存储费用**：
```
- 标准存储 ≈ ¥0.12/GB/月
- 低频存储 ≈ ¥0.08/GB/月
```

---

## 📞 获取帮助

如果在获取API过程中遇到任何问题，可以通过以下方式获取帮助：

### 🔗 官方资源
- **火山引擎官网**：https://www.volcengine.com/
- **开发者文档**：https://developer.volcengine.com/
- **API参考**：https://open.volcengine.com/

### 📧 联系支持
- **客服热线**：400-826-2416（工作日 9:00-18:00）
- **在线客服**：控制台右下角
- **邮件支持**：support@volcengine.com

### 💬 社区支持
- **开发者论坛**：https://developer.volcengine.com/community/
- **技术交流群**：可在控制台申请加入

---

## 🎯 下一步

完成API获取后，您可以：

1. **运行配置工具**：`python setup_volcengine_api.py`
2. **测试API连接**：`python test_volcengine_api.py`
3. **启动视频处理服务**：`python -m app.main`
4. **查看详细集成文档**：阅读项目中的其他文档

祝您使用愉快！🚀
